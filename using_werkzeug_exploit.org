#+title: Notes on exploiting the app

* Thought process of working through the app
1. Go to ~/~
2. Notice some endpoints:
   - /video
   - /clips
   - /monitor
   - /stream
3. Note that ~/clips~ can be exploited for LFI
4. Note that ~/monitor~ gives debug screen.  We can potentially reverse the console pin
   https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/werkzeug
5. We need to gather some data, but thankfully we have access to LFI through ~/clips~
   - [ ] username can be obtained by looking at /proc/self/environ
   - [ ] other two (modname and app name) can be obtained by reading ~app.py~
   - [ ] 4th ~probably_public_bits~ is obtained in the debug page
   - [ ] network device integer can be obtained by
     - /proc/net/arp -> wlan0 (in my case)
     - /sys/class/net/wlan0/address
   - [ ] last of the ~private_bits~ can be obtained with:
     - /etc/machine-id
     - /proc/self/cgroup
6. Ensure that the console pin generation is with ~sha1~, same as werkzeug source
7. Generate and gain access to run python through console access

* gunicorn
Note that unicorn does not allow debugging console to run, so running the app as-is setup currently will not allow access to debug console.
